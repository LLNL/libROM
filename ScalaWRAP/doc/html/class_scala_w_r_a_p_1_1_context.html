<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ScalaWRAP: ScalaWRAP::Context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ScalaWRAP
   </div>
   <div id="projectbrief">Modern C++ interface for ScaLAPACK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_scala_w_r_a_p.html">ScalaWRAP</a></li><li class="navelem"><a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_scala_w_r_a_p_1_1_context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ScalaWRAP::Context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class providing encapsulation for the raw integer handle that BLACS uses to manage "contexts".  
 <a href="class_scala_w_r_a_p_1_1_context.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_context_8hpp_source.html">Context.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a04401a5160d7ed28565f8120b439a825"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a04401a5160d7ed28565f8120b439a825">id</a> () const noexcept</td></tr>
<tr class="memdesc:a04401a5160d7ed28565f8120b439a825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the integer handle used by BLACS.  <a href="#a04401a5160d7ed28565f8120b439a825">More...</a><br /></td></tr>
<tr class="separator:a04401a5160d7ed28565f8120b439a825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efd893d0c319b1cbb529bae644d6ef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a6efd893d0c319b1cbb529bae644d6ef2">~Context</a> ()</td></tr>
<tr class="memdesc:a6efd893d0c319b1cbb529bae644d6ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this object has an associated BLACS context, free it.  <a href="#a6efd893d0c319b1cbb529bae644d6ef2">More...</a><br /></td></tr>
<tr class="separator:a6efd893d0c319b1cbb529bae644d6ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4960e20a14d45d549143672df902bf3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a4960e20a14d45d549143672df902bf3c">Context</a> (int nprow, int npcol)</td></tr>
<tr class="separator:a4960e20a14d45d549143672df902bf3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa671de9f4791a8be4d692d56df06b34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#afa671de9f4791a8be4d692d56df06b34">Context</a> (const std::vector&lt; int &gt; &amp;process_map, int nprow)</td></tr>
<tr class="separator:afa671de9f4791a8be4d692d56df06b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8838a0e9f70bf62d1072137a1c9a7e7b"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; int, int, int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a8838a0e9f70bf62d1072137a1c9a7e7b">getinfo</a> () const</td></tr>
<tr class="memdesc:a8838a0e9f70bf62d1072137a1c9a7e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a tuple <code>(nprow, npcol, pi, pj)</code> of the parameters of the active context.  <a href="#a8838a0e9f70bf62d1072137a1c9a7e7b">More...</a><br /></td></tr>
<tr class="separator:a8838a0e9f70bf62d1072137a1c9a7e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9de54f560585e9bbe92912832ab37577"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a9de54f560585e9bbe92912832ab37577">default_context</a> ()</td></tr>
<tr class="memdesc:a9de54f560585e9bbe92912832ab37577"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a default global context.  <a href="#a9de54f560585e9bbe92912832ab37577">More...</a><br /></td></tr>
<tr class="separator:a9de54f560585e9bbe92912832ab37577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5322448bf4e9bf5cc4d83ec0545405ef"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#a5322448bf4e9bf5cc4d83ec0545405ef">make_context</a> (int nprow, int npcol)</td></tr>
<tr class="memdesc:a5322448bf4e9bf5cc4d83ec0545405ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a context with an <code>nprow</code> by <code>npcol</code> grid.  <a href="#a5322448bf4e9bf5cc4d83ec0545405ef">More...</a><br /></td></tr>
<tr class="separator:a5322448bf4e9bf5cc4d83ec0545405ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfeae48a3070e4fd035787e02d2cd3df"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_scala_w_r_a_p_1_1_context.html#abfeae48a3070e4fd035787e02d2cd3df">make_context</a> (const std::vector&lt; int &gt; &amp;process_map, int nprow)</td></tr>
<tr class="memdesc:abfeae48a3070e4fd035787e02d2cd3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a context with a manually specified mapping of processes to the grid.  <a href="#abfeae48a3070e4fd035787e02d2cd3df">More...</a><br /></td></tr>
<tr class="separator:abfeae48a3070e4fd035787e02d2cd3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class providing encapsulation for the raw integer handle that BLACS uses to manage "contexts". </p>
<p>The BLACS concept of a "context" in which a distributed matrix lives is fundamental to writing code using ScaLAPACK. The context is represented by an opaque integer handle. This class exists to protect code handling ScaLAPACK matrices from accidentally deleting or changing a context and to provide a nice interface to the BLACS functions that manipulate contexts.</p>
<p>It is not possible for the user to directly construct a <code><a class="el" href="class_scala_w_r_a_p_1_1_context.html" title="Class providing encapsulation for the raw integer handle that BLACS uses to manage &quot;contexts&quot;.">Context</a></code>. Rather, you should always handle a <code>shared_ptr&lt;<a class="el" href="class_scala_w_r_a_p_1_1_context.html" title="Class providing encapsulation for the raw integer handle that BLACS uses to manage &quot;contexts&quot;.">Context</a>&gt;</code>. This is because when the <code><a class="el" href="class_scala_w_r_a_p_1_1_context.html" title="Class providing encapsulation for the raw integer handle that BLACS uses to manage &quot;contexts&quot;.">Context</a></code> destructor is called, if there is an associated BLACS context it will be freed. Using a <code>shared_ptr</code> to a single instance of <code><a class="el" href="class_scala_w_r_a_p_1_1_context.html" title="Class providing encapsulation for the raw integer handle that BLACS uses to manage &quot;contexts&quot;.">Context</a></code> for all matrices sharing a context makes sure that the context is not released prematurely. Please don't try to circumvent this interface by dereferencing the smart pointers returned by the interface, although of course it is possible. </p>

<p class="definition">Definition at line <a class="el" href="_context_8hpp_source.html#l00048">48</a> of file <a class="el" href="_context_8hpp_source.html">Context.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6efd893d0c319b1cbb529bae644d6ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efd893d0c319b1cbb529bae644d6ef2">&#9670;&nbsp;</a></span>~Context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ScalaWRAP::Context::~Context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If this object has an associated BLACS context, free it. </p>

<p class="definition">Definition at line <a class="el" href="_context_8hpp_source.html#l00055">55</a> of file <a class="el" href="_context_8hpp_source.html">Context.hpp</a>.</p>

</div>
</div>
<a id="a4960e20a14d45d549143672df902bf3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4960e20a14d45d549143672df902bf3c">&#9670;&nbsp;</a></span>Context() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ScalaWRAP::Context::Context </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nprow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npcol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_context_8cpp_source.html#l00048">48</a> of file <a class="el" href="_context_8cpp_source.html">Context.cpp</a>.</p>

</div>
</div>
<a id="afa671de9f4791a8be4d692d56df06b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa671de9f4791a8be4d692d56df06b34">&#9670;&nbsp;</a></span>Context() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ScalaWRAP::Context::Context </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>process_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nprow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_context_8cpp_source.html#l00069">69</a> of file <a class="el" href="_context_8cpp_source.html">Context.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9de54f560585e9bbe92912832ab37577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de54f560585e9bbe92912832ab37577">&#9670;&nbsp;</a></span>default_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a> &gt; ScalaWRAP::Context::default_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a default global context. </p>
<p>The default context lives from the first call to this function until the program exits. It maps all of the processes in MPI_COMM_WORLD into a process grid whose size is as close to square as possible. When the grid must be rectangular, more processes are put in the row direction. </p>

<p class="definition">Definition at line <a class="el" href="_context_8cpp_source.html#l00124">124</a> of file <a class="el" href="_context_8cpp_source.html">Context.cpp</a>.</p>

</div>
</div>
<a id="a8838a0e9f70bf62d1072137a1c9a7e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8838a0e9f70bf62d1072137a1c9a7e7b">&#9670;&nbsp;</a></span>getinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; int, int, int, int &gt; ScalaWRAP::Context::getinfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a tuple <code>(nprow, npcol, pi, pj)</code> of the parameters of the active context. </p>
<p>This operation corresponds to a call to blacs_gridinfo. <code>pi</code> and <code>pj</code> are the zero-based indices of this process's position in the process grid. </p>

<p class="definition">Definition at line <a class="el" href="_context_8cpp_source.html#l00139">139</a> of file <a class="el" href="_context_8cpp_source.html">Context.cpp</a>.</p>

</div>
</div>
<a id="a04401a5160d7ed28565f8120b439a825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04401a5160d7ed28565f8120b439a825">&#9670;&nbsp;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ScalaWRAP::Context::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the integer handle used by BLACS. </p>

<p class="definition">Definition at line <a class="el" href="_context_8hpp_source.html#l00052">52</a> of file <a class="el" href="_context_8hpp_source.html">Context.hpp</a>.</p>

</div>
</div>
<a id="a5322448bf4e9bf5cc4d83ec0545405ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5322448bf4e9bf5cc4d83ec0545405ef">&#9670;&nbsp;</a></span>make_context() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a>&gt; ScalaWRAP::Context::make_context </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nprow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>npcol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a context with an <code>nprow</code> by <code>npcol</code> grid. </p>

<p class="definition">Definition at line <a class="el" href="_context_8hpp_source.html#l00075">75</a> of file <a class="el" href="_context_8hpp_source.html">Context.hpp</a>.</p>

</div>
</div>
<a id="abfeae48a3070e4fd035787e02d2cd3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfeae48a3070e4fd035787e02d2cd3df">&#9670;&nbsp;</a></span>make_context() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;const <a class="el" href="class_scala_w_r_a_p_1_1_context.html">Context</a>&gt; ScalaWRAP::Context::make_context </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>process_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nprow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a context with a manually specified mapping of processes to the grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">process_map</td><td>A vector containing the ranks of processes to be mapped to the grid. A process may not appear twice in this specification, and the length of the vector must be a multiple of <code>nprow</code>. The data is interpreted as a column major array, as the raw pointer is passed directly to a Fortran wrapper routine.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nprow</td><td>The number of rows in the created process grid. The number of columns is <code>process_map.size() / nprow</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Throws an exception if an illegal <code>process_map</code> is given. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_context_8hpp_source.html#l00095">95</a> of file <a class="el" href="_context_8hpp_source.html">Context.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_context_8hpp_source.html">Context.hpp</a></li>
<li>src/<a class="el" href="_context_8cpp_source.html">Context.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
